<?xml version="1.0" encoding="UTF-8"?>
<configuration>

    <appender name="FILE" class="ch.qos.logback.core.FileAppender">
        <file>/var/log/app/fb-invoice.log</file>

        <encoder>
            <pattern>%date %level [%thread] %logger{10} [%file:%line] [Corr-Id:%mdc{X-Correlation-Id}] %msg%n</pattern>
        </encoder>
    </appender>

    <appender name="LOGSTASH" class="ch.qos.logback.core.FileAppender">
        <file>/var/log/app/fb-invoice.json</file>
        <encoder class="net.logstash.logback.encoder.LogstashEncoder"/>
    </appender>

    <appender name="LOGSTASH_TCP" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
        <!-- remoteHost and port are optional (default values shown) -->
        <remoteHost>logback</remoteHost>
        <port>4560</port>

        <!-- encoder is required -->
        <encoder class="net.logstash.logback.encoder.LogstashEncoder"/>
    </appender>


    <root level="info">
        <appender-ref ref="FILE"/>
        <!--<appender-ref ref="LOGSTASH"/>-->
        <!--<appender-ref ref="LOGSTASH_TCP"/>-->
    </root>


</configuration>