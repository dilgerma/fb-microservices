ui:
   build: fb-web
   hostname: fb-web
   ports:
   #expose container port 8084 to port 80 to the world
   - "80:8080"
   links:
   - invoices
   command: java -Djava.security.egd=file:/dev/./urandom -jar /sources/app.jar
   #command: env
   volumes_from: ['lsf']
invoices:
   build: fb-invoices
   hostname: fb-invoice
   expose:
   - "8081"
   links:
   - repository:repository
   command: java -Djava.security.egd=file:/dev/./urandom -jar /sources/app.jar
   #command: env
   volumes_from: ['lsf']
repository:
   build: fb-repository
   hostname: fb-repository
   expose:
   - "8080"
   command: java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=mock -jar /sources/app.jar
   #command: env
   volumes_from: ['lsf']
   environment:
   - user_email
   - user_apiKey
lsf:
   build: logstash-forwarder
#   volumes_from: ['logstash']
   links:
   - logstash
   volumes:
   - /var/log/app
elasticsearch:
  image: clusterhq/elasticsearch
  expose:
  #dont use ports, use expose
  - "9200"
  - "9300"
  ports:
  - "9200:9200"
  - "9300:9300"

logstash:
  build: logstash
  expose:
  #dont use ports, use expose
  - "5000"
  links:
   - elasticsearch:es
#  volumes:
#   - /etc/pki/tls/certs/
kibana:
  build: kibana
#wird nicht gebraucht
#  links:
#  - elasticsearch
  expose:
  - "80"
  ports:
  #expose container port 80 to port 8090 to the world
   - "8090:80"
#redis:
#   image: redis
