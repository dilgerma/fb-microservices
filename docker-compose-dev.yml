eurekaserver:
   build: fb-eureka-server
   hostname: eurekaserver
   ports:
   - "8761"
   expose:
   - "8761"
ui:
   build: fb-web
   ports:
   - "80:8080"
   links:
   - invoices
   - expenses
   - customers
   - templates
   - graphite
   - eurekaserver
   command: java -Djava.security.egd=file:/dev/./urandom -jar /sources/app.jar
   mem_limit: 512m
invoices:
   build: fb-invoices
   expose:
   - "8081"
   links:
   - repository:repository
   - graphite
   - eurekaserver
   command: java -Djava.security.egd=file:/dev/./urandom -jar /sources/app.jar
   mem_limit: 1024m
expenses:
   build: fb-expenses
   expose:
   - "8081"
   links:
   - repository:repository
   - graphite
   - eurekaserver
   command: java -Djava.security.egd=file:/dev/./urandom -jar /sources/app.jar
   mem_limit: 512m
customers:
   build: fb-customers
   expose:
   - "8081"
   links:
   - repository:repository
   - graphite
   - eurekaserver
   command: java -Djava.security.egd=file:/dev/./urandom -jar /sources/app.jar
   mem_limit: 512m
templates:
   build: fb-template
   expose:
   - "8081"
   links:
   - mongo
   - graphite
   - eurekaserver
   command: java -Djava.security.egd=file:/dev/./urandom -jar /sources/app.jar
   mem_limit: 512m
repository:
   build: fb-repository
   expose:
   - "8080"
   links:
   - graphite
   - eurekaserver
   command: java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=mock -jar /sources/app.jar
   environment:
   - user_email
   - user_apiKey
   mem_limit: 512m
mongo:
  image: dockerfile/mongodb
  volumes:
  - /data/db
  expose:
  - "27017"
  mem_limit: 512m

#graphite is currently only here as there is a problem in opening the socker (NullPointerException) if the container is not up.
graphite:
  image: hopsoft/graphite-statsd
  ports:
  - "8080"
  - "2003"
  - "2004"
  expose:
  - "2003"
  - "2004"
  - "8080"